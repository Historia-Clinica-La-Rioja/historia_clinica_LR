#Se agregan tablas Datos Maestros para códigos de SNOMED CT
databaseChangeLog: 
- logicalFilePath: incrementales-v0_1_3
- changeSet: 
    id: observation_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO observation_status (id, description) VALUES('160476009', 'Característica observable relacionada con antecedente personal / social (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('118227000', 'Hallazgo en los signos vitales (hallazgo)');
                INSERT INTO observation_status (id, description) VALUES('399060005', 'Característica observable de imágenes (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('364712009', 'Característica observable de prueba de laboratorio (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('416342005', 'Característica observable relacionada con un procedimiento (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('118243007', 'Hallazgo por inspección (observación simple) (hallazgo)');
                INSERT INTO observation_status (id, description) VALUES('271906008', 'Hallazgo del examen físico (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('363819003', 'Característica observable del tratamiento farmacológico (entidad observable)');
                INSERT INTO observation_status (id, description) VALUES('257733005', 'Actividad (entidad observable)');
  
- changeSet: 
    id: allergy_intolerance_verification_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO allergy_intolerance_verification_status (id, description) VALUES('59156000', 'Confirmado por (calificador)');
                INSERT INTO allergy_intolerance_verification_status (id, description) VALUES('76104008', 'No confirmado por (calificador)');
                INSERT INTO allergy_intolerance_verification_status (id, description) VALUES('723511001', 'Refutado (calificador)');
                INSERT INTO allergy_intolerance_verification_status (id, description) VALUES('723510000', 'Ingresado por error (calificador)');
                
- changeSet: 
    id: allergy_intolerance_clinical_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO allergy_intolerance_clinical_status (id, description) VALUES('55561003', 'Activo (calificador)');  
                INSERT INTO allergy_intolerance_clinical_status (id, description) VALUES('73425007', 'Inactivo (calificador)');  
                INSERT INTO allergy_intolerance_clinical_status (id, description) VALUES('723506003', 'Resuelto (calificador)');                  

- changeSet: 
    id: allergy_intolerance_category-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO allergy_intolerance_category (id, description) VALUES('414285001', 'Alergia alimentaria (hallazgo)');
                INSERT INTO allergy_intolerance_category (id, description) VALUES('416098002', 'Alergia medicamentosa (hallazgo)');
                INSERT INTO allergy_intolerance_category (id, description) VALUES('426232007', 'Alergia ambiental (hallazgo)');
                INSERT INTO allergy_intolerance_category (id, description) VALUES('402591008', 'Alergia a agente biocida (hallazgo)');
   
- changeSet: 
    id: condition_clinical_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO condition_clinical_status (id, description) VALUES('55561003', 'Activo (calificador)'); 
                INSERT INTO condition_clinical_status (id, description) VALUES('246455001', 'Recidiva (calificador)'); 
                INSERT INTO condition_clinical_status (id, description) VALUES('263855007', 'Recaída (calificador)'); 
                INSERT INTO condition_clinical_status (id, description) VALUES('73425007', 'Inactivo (calificador)');  
                INSERT INTO condition_clinical_status (id, description) VALUES('277022003', 'Remisión (calificador)'); 
                INSERT INTO condition_clinical_status (id, description) VALUES('723506003', 'Resuelto (calificador)'); 

- changeSet: 
    id: condition_verification_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO condition_verification_status (id, description) VALUES('76104008', 'No confirmado por (calificador)');
                INSERT INTO condition_verification_status (id, description) VALUES('5558000', 'Diagnóstico provisional (calificador contextual) (calificador)');
                INSERT INTO condition_verification_status (id, description) VALUES('47965005', 'Diagnóstico diferencial (calificador)');
                INSERT INTO condition_verification_status (id, description) VALUES('59156000', 'Confirmado por (calificador)');
                INSERT INTO condition_verification_status (id, description) VALUES('723511001', 'Refutado (calificador)');
                INSERT INTO condition_verification_status (id, description) VALUES('723510000', 'Ingresado por error (calificador)');
                
- changeSet: 
    id: condition_problem_type-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO condition_problem_type (id, description) VALUES('55607006', 'Problema (hallazgo)');                 

- changeSet: 
    id: medication_statement_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO medication_statement_status (id, description) VALUES('55561003', 'Activo (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('255594003', 'Completo (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('723510000', 'Ingresado por error (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('18629005', 'Administración de fármaco o medicamento (procedimiento)');
                INSERT INTO medication_statement_status (id, description) VALUES('6155003', 'Detenido (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('385655000', 'Suspendido (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('261665006', 'Desconocido (calificador)');
                INSERT INTO medication_statement_status (id, description) VALUES('266710000', 'Fármacos no ingeridos/tratamiento incompleto (situación)');

- changeSet: 
    id: inmunization_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO inmunization_status (id, description) VALUES('255594003', 'Completo (calificador)');  
                INSERT INTO inmunization_status (id, description) VALUES('723510000', 'Ingresado por error (calificador)'); 
                INSERT INTO inmunization_status (id, description) VALUES('385660001', 'No efectuado (calificador)'); 
                
- changeSet: 
    id: document_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO document_status (id, description) VALUES('445667001', 'Informe preliminar (elemento de registro)');  
                INSERT INTO document_status (id, description) VALUES('445665009', 'Informe final (elemento de registro)'); 
                INSERT INTO document_status (id, description) VALUES('445664008', 'Informe enmendado (elemento de registro)');  
                INSERT INTO document_status (id, description) VALUES('723510000', 'Ingresado por error (calificador)');  
                
- changeSet: 
    id: internment_episode_status-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO internment_episode_status (id, description) VALUES(1, 'Activo');  
                INSERT INTO internment_episode_status (id, description) VALUES(2, 'Inactivo');  

- changeSet: 
    id: document_type-metadata
    author: saguero
    changes: 
        - sql: 
            sql: |- 
                INSERT INTO document_type (id, description) VALUES(1, 'Anamnesis');  
                INSERT INTO document_type (id, description) VALUES(2, 'Nota de evaluación');  
                INSERT INTO document_type (id, description) VALUES(3, 'Epicrisis');  
             
- changeSet:
    id: patient-addColumn-identity_verification_status&&coments
    author: gmurgolo
    changes:
    - addColumn:
        columns:
        - column:
            name: identity_verification_status_id
            type: smallint
            constraints:
                nullable: true  
        - column:
            name: comments
            type: varchar(255)
            constraints:
                nullable: true
        tableName: patient
    - addForeignKeyConstraint:
        baseColumnNames: identity_verification_status_id
        baseTableName: patient
        constraintName: FK_identity_verification_status_id
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: identity_verification_status
        validate: true


- changeSet:
    comment: Crea tabla shedlock
    id: shedlock
    author: etrapani
    changes:
        - createTable:
            tableName: shedlock
            columns:
            - column:
                name: name
                type: varchar(150)
                constraints:
                    nullable: false
                    primaryKey: true
                    primaryKeyName: pk_shedlock
            - column:
                name: lock_until
                type: DATETIME
            - column:
                name: locked_at
                type: DATETIME
            - column:
                name: locked_by
                type: varchar(150) 

- changeSet:
    id: bed-addColumn-bed_number
    author: lmanterola
    changes:
    - addColumn:
        columns:
        - column:
            name: bed_number
            type: varchar(50)
            constraints:
                nullable: false
        tableName: bed

- changeSet:
    id: room-addColumn-room_number
    author: lmanterola
    changes:
    - addColumn:
        columns:
        - column:
            name: room_number
            type: varchar(50)
            constraints:
                nullable: false
        tableName: room

- changeSet:
    id: bed-unique_constraint
    author: lmanterola
    changes:
        - addUniqueConstraint:
            tableName: bed
            columnNames: bed_number, room_id
            constraintName: UQ_bed

- changeSet:
    id: room-unique_constraint
    author: lmanterola
    changes:
        - addUniqueConstraint:
            tableName: room
            columnNames: room_number, clinical_specialty_sector_id
            constraintName: UQ_room

- changeSet:
    id: renameColumn-healthcare_professional_group-responsable
    author: etrapani
    changes:
    - renameColumn:
        columnDataType: boolean
        newColumnName: responsible
        oldColumnName: responsable
        tableName: healthcare_professional_group

- changeSet:
    id: renameColumn-internment_episode-clinical_speciality_id
    author: etrapani
    changes:
    - renameColumn:
        columnDataType: varchar(20)
        newColumnName: clinical_specialty_id
        oldColumnName: clinical_speciality_id
        tableName: internment_episode

- changeSet:
    id: modifyDataType-internment_episode-clinical_specialty_id
    author: etrapani
    changes:
    - modifyDataType:
        columnName: clinical_specialty_id
        newDataType: int
        tableName: internment_episode

- changeSet:
    id: addForeignKeyConstraint-internment_episode-clinical_specialty_id
    author: etrapani
    changes:
    - addForeignKeyConstraint:
        baseColumnNames: clinical_specialty_id
        baseTableName: internment_episode
        constraintName: FK_internment_episode_clinical_specialty_id
        onDelete: NO ACTION
        onUpdate: NO ACTION
        referencedColumnNames: id
        referencedTableName: clinical_specialty
        validate: true