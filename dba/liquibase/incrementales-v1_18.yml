databaseChangeLog:
    - logicalFilePath: incrementales-v1_18

    - changeSet:
          id: user-key-createTable
          author: etrapani
          changes:
              - createTable:
                    tableName: user_key
                    columns:
                        - column:
                              constraints:
                                  nullable: false
                              name: user_id
                              type: int
                        - column:
                              constraints:
                                  nullable: false
                              name: key
                              type: varchar(255)

    - changeSet:
          id: user-key-primary_key
          author:  etrapani
          changes:
              -  addPrimaryKey:
                     columnNames:  user_id, key
                     constraintName:  pk_user_key
                     tableName: user_key

    - changeSet:
          id: user-key-unique_constraint
          author: etrapani
          changes:
              - addUniqueConstraint:
                    columnNames: key
                    constraintName: UQ_key
                    tableName: user_key

    - changeSet:
        id: add-delete_by-permission
        author: mscooper
        changes:
        - addColumn:
            tableName: permission
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER

    - changeSet:
        id: add-delete_by-role
        author: mscooper
        changes:
        - addColumn:
            tableName: role
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER

    - changeSet:
        id: add-delete_by-role_permission
        author: mscooper
        changes:
        - addColumn:
            tableName: role_permission
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER

    - changeSet:
        id: add-delete_by-user_role
        author: mscooper
        changes:
        - addColumn:
            tableName: user_role
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER

    - changeSet:
        id: add-delete_by-users
        author: mscooper
        changes:
        - addColumn:
            tableName: users
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER
    
    - changeSet:
        id: add-delete_by-user_password
        author: mscooper
        changes:
        - addColumn:
            tableName: user_password
            columns:
                - column:
                    name: deleted_by
                    type: INTEGER
