<section id="calendar">
	<ng-template #weekViewHourSegmentTemplate let-segment="segment" let-locale="locale"
				 let-segmentHeight="segmentHeight" let-isTimeLabel="isTimeLabel">
		<div #segmentElement class="cal-hour-segment" [style.height.px]="segmentHeight"
		     [class.cal-hour-start]="segment.isStart" [class.cal-after-hour-start]="!segment.isStart"
		     [ngClass]="segment.cssClass">
			<div class="cal-time" *ngIf="isTimeLabel">
				{{ segment.date | calendarDate:'weekViewHour':locale }}
			</div>
		</div>
	</ng-template>

	<div class="spinner" *ngIf="loading else calendar">
		<mat-spinner color="primary"></mat-spinner>
	</div>

	<ng-template #calendar>
		<mwl-calendar-week-view [viewDate]="viewDate"
								[events]="newAgendaService.getEvents()"
								[dayStartHour]="dayStartHour" [dayEndHour]="dayEndHour"
								[hourSegmentTemplate]="weekViewHourSegmentTemplate"
								[hourSegments]="newAgendaService.getMinutesInHour() / newAgendaService.getAppointmentDuration()"
								[weekStartsOn]="newAgendaService.getWeekStartsOn()">
		</mwl-calendar-week-view>
	</ng-template>
</section>
