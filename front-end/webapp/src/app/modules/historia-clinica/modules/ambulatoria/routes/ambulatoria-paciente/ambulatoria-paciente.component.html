<app-content width="full">
	<section id="title">
		<h2 class="page-title" [translate]="'ambulatoria.paciente.TITLE'"></h2>
	</section>

	<section id="content" fxLayout="column" fxLayoutGap="20px">
		<app-patient-card *ngIf="personPhoto" [patient]="patient$ | async" [personPhoto]="personPhoto">
			<div horizontal-content>
				<ng-container *ngIf="hasNewConsultationEnabled">
					<button *hasRole="['ESPECIALISTA_MEDICO', 'PROFESIONAL_DE_SALUD']"
							id="nueva_consulta"
							mat-flat-button color="primary"
							(click)="openNuevaConsulta()">
						{{ 'ambulatoria.paciente.card.buttons.NUEVA_CONSULTA' | translate | uppercase }}
					</button>
				</ng-container>
			</div>
		</app-patient-card>

		<mat-card id="tab_container" class="mat-typography">
			<mat-card-content>
				<mat-tab-group>
					<mat-tab id="tab_resumen">
						<ng-template mat-tab-label>
							<mat-icon>content_paste</mat-icon>
							<span>{{ 'ambulatoria.paciente.resumen.TAB_LABEL' | translate | uppercase }}</span>
						</ng-template>
						<ng-template matTabContent>
							<app-resumen></app-resumen>
						</ng-template>
					</mat-tab>
					<mat-tab id="tab_vacunas">
						<ng-template mat-tab-label>
							<mat-icon>content_paste</mat-icon>
							<span>{{ 'ambulatoria.paciente.vacunas.TAB_LABEL' | translate | uppercase }}</span>
						</ng-template>
						<ng-template matTabContent>
							<app-vacunas [hasConfirmedAppointment]="hasNewConsultationEnabled"></app-vacunas>
						</ng-template>
					</mat-tab>
					<mat-tab id="tab_problemas">
						<ng-template mat-tab-label>
							<mat-icon>content_paste</mat-icon>
							<span>{{ 'ambulatoria.paciente.problemas.TAB_LABEL' | translate | uppercase }}</span>
						</ng-template>
						<ng-template matTabContent>
							<app-problemas [(hasNewConsultationEnabled)]="hasNewConsultationEnabled"
										   [nuevaConsultaRef]="dialogRef"></app-problemas>
						</ng-template>
					</mat-tab>
				</mat-tab-group>
			</mat-card-content>
		</mat-card>
	</section>

</app-content>
