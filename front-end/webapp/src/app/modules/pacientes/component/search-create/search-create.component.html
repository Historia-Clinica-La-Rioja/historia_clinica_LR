<mat-card class="mat-typography">
	<form [formGroup]="formSearch" (ngSubmit)="search()">
		<mat-card-header>
			<mat-card-title [translate]="'pacientes.home.find_add_section.TITLE'"></mat-card-title>
			<mat-card-subtitle>
				Ingresá un nuevo paciente
			</mat-card-subtitle>
		</mat-card-header>
		<mat-card-content>
			<div class="">
				<mat-form-field>
					<mat-label>Tipo</mat-label>
					<mat-select
						formControlName="identifType">
						<mat-option
							id="identifType"
							name="identifType"
							*ngFor="let type of identifyTypeArray" [value]="type.id">
							{{type.description}}
						</mat-option>
					</mat-select>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'identifType')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field>
					<mat-label>Nro de documento</mat-label>
					<input matInput
						   type="text"
						   id="identifNumber"
						   name="identifNumber"
						   formControlName="identifNumber"
						   placeholder="Nro de documento">
					<mat-error *ngIf="formSearchSubmitted &&  hasError(formSearch, 'required', 'identifNumber')">
						El campo es requerido
					</mat-error>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'maxlength', 'identifNumber')">
						Introduzca como máximo 11 caracteres
					</mat-error>
				</mat-form-field>
			</div>
			<div class="">
				<mat-label>Sexo</mat-label>
				<div class="">
					<mat-radio-group name="gender" id="gender" formControlName="gender">
						<mat-radio-button *ngFor="let gender of genderOptions" [value]="gender.id">
							{{gender.description}}
						</mat-radio-button>
					</mat-radio-group>
					<mat-error *ngIf="formSearchSubmitted &&  hasError(formSearch, 'required', 'gender')">
						Género requerido
					</mat-error>
				</div>
			</div>
			<div class="">
				<section>
					<mat-checkbox class="" (change)="noIdentityChange()">
						No acredita identidad
					</mat-checkbox>
				</section>

			</div>
		</mat-card-content>
		<mat-card-actions>
			<div align="end">
				<button mat-flat-button color="primary" type="submit" *ngIf="!noIdentity">
					<span [translate]="'pacientes.home.find_add_section.BUTTON_SEARCH'"></span>
				</button>
			</div>
		</mat-card-actions>
	</form>

	<form [formGroup]="formAdd" (ngSubmit)="add()">
		<mat-card-header *ngIf="noIdentity">
			<mat-card-title
				[translate]="'pacientes.home.find_add_section.NO_IDENTITY'"
			>
			</mat-card-title>
		</mat-card-header>
		<mat-card-content *ngIf="noIdentity">
			<mat-form-field>
				<mat-label>Seleccione motivo</mat-label>
				<mat-select
					formControlName="causeOptions">
					<mat-option
						id="causeOptions"
						*ngFor="let cause of causeOptionsArray" [value]="cause.id">
						{{cause.description}}
					</mat-option>
				</mat-select>
				<mat-error>
					El campo es requerido
				</mat-error>
			</mat-form-field>
			<mat-form-field>
				<mat-label>Comentarios</mat-label>
				<textarea
					matInput
					cdkTextareaAutosize
					id="comments"
					cdkAutosizeMinRows="1"
					cdkAutosizeMaxRows="5"
					formControlName="comments">
				</textarea>
			</mat-form-field>
		</mat-card-content>
		<mat-card-actions *ngIf="noIdentity">
			<div align="end">
				<button mat-flat-button color="primary" type="submit">
					<span [translate]="'pacientes.home.find_add_section.BUTTON_ADD'"></span>
				</button>
			</div>
		</mat-card-actions>
	</form>
</mat-card>

