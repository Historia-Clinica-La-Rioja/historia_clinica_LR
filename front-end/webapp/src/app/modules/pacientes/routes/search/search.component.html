<app-content width="full">
    <section *ngIf="viewSearchComponent()">
		<h2 [translate]="'pacientes.search.TITLE'">Búsqueda de pacientes</h2>
		<p>
			<span [translate]="'No se ha encontrado un paciente registrado con ese tipo y número de documento.'"></span>
			<br>
			<span [translate]="'Complete los siguientes datos para una búsqueda avanzada.'"></span>
		</p>
		<div class="content">
			<form [formGroup]="formSearch" (ngSubmit)="search()">
				<br>
				<mat-form-field appearance="outline">
					<mat-label>Tipo</mat-label>
					<mat-select
						formControlName="identificationType">
						<mat-option
							id="identifType"
							name="identifType"
							*ngFor="let type of identifyTypeArray" [value]="type.id">
							{{type.description}}
						</mat-option>
					</mat-select>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Documento</mat-label>
					<input id="identificationTypeId"
						   formControlName="identificationNumber"
					       placeholder="Sin puntos"
						   matInput>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'identificationNumber')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<br>
				<mat-label>Sexo</mat-label>
				<div class="">
					<mat-radio-group name="gender" id="gender" formControlName="gender">
						<mat-radio-button *ngFor="let gender of genderOptions" [value]="gender.id">
							{{gender.description}}
						</mat-radio-button>
					</mat-radio-group>
					<mat-error *ngIf="formSearchSubmitted &&  hasError(formSearch, 'required', 'gender')">
						Género requerido
					</mat-error>
				</div>
				<br>
				<mat-form-field appearance="outline">
					<mat-label>Nombre</mat-label>
					<input id="firstName"
							formControlName="firstName"
							matInput>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'firstName')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Segundo Nombre</mat-label>
					<input id="middleNames"
							formControlName="middleNames"
							matInput>
				</mat-form-field>
				<br>
				<mat-form-field appearance="outline">
					<mat-label>Apellido</mat-label>
					<input  id="lastName"
							formControlName="lastName"
							matInput>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'lastName')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Otros apellidos</mat-label>
					<input  id="otherLastNames"
							formControlName="otherLastNames"
							matInput>
				</mat-form-field>
				<br>
				<mat-form-field appearance="outline">
					<mat-label>Fecha de nacimiento</mat-label>
					<input matInput id="birthDate"
									formControlName="birthDate"
									[matDatepicker]="picker">
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'birthDate')">
						El campo es requerido
					</mat-error>
					<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
					<mat-datepicker #picker></mat-datepicker>
				</mat-form-field>
				<br>
				<mat-action-row>
					<button mat-button class="button-continuar" (click)="back()">
						<span [translate]="'Volver'"></span>
					</button>
					<button mat-raised-button color="primary" matBadgeColor="accent" type="submit">
						<span [translate]="'Buscar'"></span>
					</button>
				</mat-action-row>
			</form>
		</div>
	</section>
	<div class="container" *ngIf="!viewSearchComponent()">
		<app-partial-matches-table [matchingPatient]="matchingPatient">
		</app-partial-matches-table>
	</div>
</app-content>
