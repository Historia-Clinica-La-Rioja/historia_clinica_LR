<app-content width="full">
    <div class="container" *ngIf="viewSearchComponent()">
		<div class="header">
			<div class="title"><span [translate]="'Busqueda de pacientes'"></span></div>
			<div class="subtitle"><span [translate]="'No se ha encontrado un paciente registrado con ese tipo y numero de documento.
				Complete los siguientes datos para una busqueda avanzada.'"></span></div>
		</div>
		<div class="content">
			<form [formGroup]="formSearch" (ngSubmit)="serch()">
				<br>
				<mat-form-field >
					<mat-label>Tipo</mat-label>
					<input id="identificationNumber"
						   formControlName="identificationNumber"
					       [(ngModel)]="datosPersonales.identificationNumber"
					       placeholder="DNI"
						   matInput>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'identificationNumber')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field >
					<mat-label>Documento</mat-label>
					<input id="identificationTypeId"
						   formControlName="identificationTypeId"
					       [(ngModel)]="datosPersonales.identificationTypeId"
					       placeholder="Sin puntos"
						   matInput>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'identificationTypeId')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<br>
				<mat-label>Sexo</mat-label>
				<div class="">
					<mat-radio-group name="gender"
									 id="gender"
									 formControlName="gender"
									 [(ngModel)]="datosPersonales.nameSelfDetermination">
						<mat-radio-button *ngFor="let gender of genderOptions" [value]="gender">
							{{gender}}
						</mat-radio-button>
					</mat-radio-group>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'gender')">
						El campo es requerido
					</mat-error>
				</div>
				<br>
				<mat-form-field>
					<mat-label>Primer Nombre</mat-label>
					<input id="firstName"
							formControlName="firstName"
							[(ngModel)]="datosPersonales.firstName"
							placeholder="Completo"
							matInput
					>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'firstName')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field>
					<mat-label>Segundo Nombre</mat-label>
					<input id="middleNames"
							formControlName="middleNames"
							[(ngModel)]="datosPersonales.middleNames"
							placeholder="Completo"
							matInput
					>
				</mat-form-field>
				<br>
				<mat-form-field>
					<mat-label>Apellido</mat-label>
					<input  id="lastName"
							formControlName="lastName"
							[(ngModel)]="datosPersonales.lastName"
							placeholder="Completo"
							matInput
					>
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'lastName')">
						El campo es requerido
					</mat-error>
				</mat-form-field>
				<mat-form-field>
					<mat-label>Apellido materno</mat-label>
					<input  id="mothersLastName"
							formControlName="mothersLastName"
							[(ngModel)]="datosPersonales.mothersLastName"
							placeholder="Completo"
							matInput
					>
				</mat-form-field>
				<br>
				<mat-form-field>
					<mat-label>Fecha de nacimiento</mat-label>					
					<input matInput id="birthDate"
									formControlName="birthDate"
									[(ngModel)]="datosPersonales.birthDate"
									[matDatepicker]="picker">
					<mat-error *ngIf="formSearchSubmitted && hasError(formSearch, 'required', 'birthDate')">
						El campo es requerido
					</mat-error>
					<mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
					<mat-datepicker #picker></mat-datepicker>
				</mat-form-field>
				<br>
				<div class="button-container">
					<button mat-raised-button color="primary" matBadgeColor="accent" type="submit">
						<span [translate]="'Buscar'"></span>
					</button>
				</div>
				<div class="button-container">
					<button mat-button class="button-continuar" (click)="back()">
						<span [translate]="'Volver'"></span>
					</button>
				</div>
			</form>
		</div>
	</div>
	<div class="container" *ngIf="!viewSearchComponent()">
		<app-partial-matches-table>
		</app-partial-matches-table>
	</div>
</app-content>