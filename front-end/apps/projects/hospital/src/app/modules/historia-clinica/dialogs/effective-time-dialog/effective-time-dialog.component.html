<div mat-dialog-title>
	<div class="icon">
		<mat-icon inline color="primary">access_time</mat-icon>
	</div>
	<h4>Fecha y hora de registro</h4>
</div>
<form [formGroup]="timeForm" (ngSubmit)="set()">
	<div mat-dialog-content>
		<section>	
			<app-datepicker
				[minDate]="minDate" [maxDate]="today" [dateToSetInDatepicker]="data.datetime" (selectDate)="dateChanged($event)">
			</app-datepicker>
			<mat-form-field appearance="outline">
				<mat-label>Hora</mat-label>
				<input matInput id="time" type="text" formControlName="time" pattern="([0-1]{1}[0-9]{1}|20|21|22|23):[0-5]{1}[0-9]{1}">
				<mat-error *ngIf="hasError(timeForm, 'required', 'time')" [translate]="'forms.REQUIRED'"></mat-error>
				<mat-error *ngIf="hasError(timeForm, 'pattern', 'time')">La hora debe cumplir con el formato de 24 hs y tener dos digitos para la hora y los minutos respectivamente</mat-error>
				<mat-error *ngIf="hasError(timeForm, 'futureTime', 'time')">La hora debe ser anterior a la hora actual</mat-error>
			</mat-form-field>
		</section>
	</div>
	<div mat-dialog-actions align="end">
		<button type="button" mat-stroked-button color="primary" cdkFocusInitial mat-dialog-close>
			<span [translate]="'buttons.CANCEL'"></span>
		</button>
		<button mat-raised-button color="primary">
			<span [translate]="'buttons.CONFIRM'"></span>
		</button>
	</div>
</form>
