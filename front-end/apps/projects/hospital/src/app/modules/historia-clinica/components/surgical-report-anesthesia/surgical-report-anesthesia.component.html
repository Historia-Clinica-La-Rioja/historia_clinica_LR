<app-new-consultation-expansion-section id="diagnosticos"
    *appHasRole="['ESPECIALISTA_MEDICO', 'ENFERMERO_ADULTO_MAYOR','PROFESIONAL_DE_SALUD', 'ESPECIALISTA_EN_ODONTOLOGIA']"
    [title]="'ambulatoria.paciente.surgical-report.anesthesia.TITLE' | translate" icon="assignment" [collapsed]="false"
    [hideBorder]="false" [isEmpty]="isEmpty()">
    <div fxLayout="column" fxLayoutGap="20px">
        <div>
            <button mat-button type="button" id="add-procedure-button" color="primary" (click)="addAnesthesia()">
                + {{ 'ambulatoria.paciente.surgical-report.anesthesia.ADD_ANESTHESIA' | translate }}
            </button>
        </div>
        <app-titled-content-card *ngIf="!anesthesiaService.isEmpty() || surgicalReport.anesthesia.length"
            [title]="'ambulatoria.paciente.surgical-report.anesthesia.ADDED_ANESTHESIAS'">
            <div *ngFor="let anesthesia of surgicalReport.anesthesia; index as i; last as isLast">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <div fxLayout="column">
                        <span>{{ anesthesia.snomed.pt }}</span>
                    </div>
                    <button type="button" mat-icon-button color="warn" (click)="deleteAnesthesia(i)">
                        <mat-icon>delete_outline</mat-icon>
                    </button>
                </div>
                <mat-divider class="separation" inset *ngIf="!isLast"></mat-divider>
            </div>
        </app-titled-content-card>
    </div>
</app-new-consultation-expansion-section>