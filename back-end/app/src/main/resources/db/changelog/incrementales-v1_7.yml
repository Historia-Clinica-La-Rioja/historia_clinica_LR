databaseChangeLog: 
    - logicalFilePath: incrementales-v1_7 

    - changeSet:
        id: medication_request-drop-doc_id-column
        author: etrapani
        dbms: "!mssql"
        changes: 
        - dropColumn: 
            columnName: doc_id
            tableName: medication_request 

#------------------------- Ajuste drop-column-with-FK para coincidir con MSSQL -----------------------
    - changeSet:
        id: medication_request-drop-doc_id-column
        author: saguero
        dbms: mssql
        changes:
        - dropForeignKeyConstraint:
            baseTableName: medication_request
            constraintName: FK_medication_request_doc_id
        - dropColumn: 
            columnName: doc_id
            tableName: medication_request

    - changeSet:
        id: medication_statement-drop-columns
        author: etrapani
        dbms: "!mssql"
        changes: 
        - dropColumn:
            columns:
            - column:
                name: chronic
            - column:
                name: start_date
            - column:
                name: end_date
            - column:
                name: suspended_start_date
            - column:
                name: suspended_end_date
            tableName: medication_statement          

#------------------------- Ajuste drop-column-with-DF para coincidir con MSSQL -----------------------
    - changeSet:
        id: medication_statement-drop-columns
        author: saguero
        dbms: mssql
        changes:
        - dropDefaultValue:
            columnName: chronic
            tableName: medication_statement
        - dropColumn:
            columns:
            - column:
                name: chronic
            - column:
                name: start_date
            - column:
                name: end_date
            - column:
                name: suspended_start_date
            - column:
                name: suspended_end_date
            tableName: medication_statement

    - changeSet:
        id: dosage add new columns 
        author: etrapani
        dbms: "!db2"
        changes:
            - addColumn:
                tableName: dosage
                columns:
                - column:
                    constraints:
                        nullable: false
                    name: chronic
                    type: boolean
                    defaultValue: ${boolean.false}
                - column:
                    constraints:
                        nullable: false
                    name: start_date
                    type: date
                    defaultValueDate: ${date.now} 
                - column:
                    constraints:
                        nullable: true
                    name: end_date
                    type: date
                - column:
                    constraints:
                        nullable: true
                    name: suspended_start_date
                    type: date
                - column:
                    constraints:
                        nullable: true
                    name: suspended_end_date
                    type: date

    - changeSet:
        id: dosage add new columns 
        author: etrapani
        dbms: db2
        changes:
            - addColumn:
                tableName: dosage
                columns:
                - column:
                    constraints:
                        nullable: false
                    name: chronic
                    type: boolean
                    defaultValue: ${boolean.false}
                - column:
                    constraints:
                        nullable: false
                    name: start_date
                    type: date
                    defaultValueDate: CURRENT DATE
                - column:
                    constraints:
                        nullable: true
                    name: end_date
                    type: date
                - column:
                    constraints:
                        nullable: true
                    name: suspended_start_date
                    type: date
                - column:
                    constraints:
                        nullable: true
                    name: suspended_end_date
                    type: date
                    
    - changeSet:
        id: emergency_care_state-createTable
        comment: Create table emergency_care_state
        author: lbergottini
        changes: 
        - createTable: 
            tableName: emergency_care_state
            columns: 
            - column:
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_emergency_care_state
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(25)
   
    - changeSet:
        id: emergency_care_type-createTable
        comment: Create table emergency_care_type
        author: lbergottini
        changes: 
        - createTable: 
            tableName: emergency_care_type
            columns: 
            - column:
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_emergency_care_type
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(30)
   
    - changeSet:
        id: emergency_care_entrance_type-createTable
        comment: Create table emergency_care_entrance_type
        author: lbergottini
        changes: 
        - createTable: 
            tableName: emergency_care_entrance_type
            columns: 
            - column:
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_emergency_care_entrance_type
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(25)
            
    - changeSet:
        id: police_intervention-createTable
        comment: Create table police_intervention
        author: lbergottini
        dbms: "!mssql"
        changes: 
        - createTable: 
            tableName: police_intervention
            columns: 
            - column:
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_police_intervention
                name: id
                type: int
            - column:
                name: call_date
                type: date
            - column:
                name: call_time
                type: time
            - column:
                name: plate_number
                type: varchar(15)
            - column:
                name: firstname
                type: varchar(20)
            - column:
                name: lastname
                type: varchar(20)
   
    - changeSet:
        id: police_intervention-createTable-mssql
        comment: Create table police_intervention
        author: saguero
        dbms: mssql
        changes: 
        - createTable: 
            tableName: police_intervention
            columns: 
            - column:
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_police_intervention
                name: id
                type: int
                autoIncrement: true
            - column:
                name: call_date
                type: date
            - column:
                name: call_time
                type: time
            - column:
                name: plate_number
                type: varchar(15)
            - column:
                name: firstname
                type: varchar(20)
            - column:
                name: lastname
                type: varchar(20)

    - changeSet:
        id: triage_category-createTable  
        comment: Create table triage_category
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: triage_category
            columns: 
            - column:
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: name
                type: varchar(10)
            - column:
                constraints:
                    nullable: false
                name: description
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: color_name
                type: varchar(10)
            - column:
                constraints:
                    nullable: false
                name: color_code
                type: varchar(8)
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_triage_category
            tableName: triage_category
            validate: true

    - changeSet:
        id: triage_category-createTable  
        comment: Create table triage_category
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: triage_category
            columns: 
            - column:
                constraints:
                    nullable: false
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: name
                type: varchar(10)
            - column:
                constraints:
                    nullable: false
                name: description
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: color_name
                type: varchar(10)
            - column:
                constraints:
                    nullable: false
                name: color_code
                type: varchar(8)
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_triage_category
            tableName: triage_category
            validate: true
   
    - changeSet:
        id: emergency_care_episode-createTable  
        comment: Create table emergency_care_episode
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: emergency_care_episode
            columns: 
            - column:
                name: id
                type: int
            - column:
                name: patient_id
                type: int
            - column:
                name: patient_medical_coverage_id
                type: int
            - column:
                name: emergency_care_type_id
                type: smallint
            - column:
                name: emergency_care_state_id
                type: smallint
            - column:
                name: emergency_care_entrance_type_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: triage_category_id
                type: smallint
            - column:
                name: doctors_office_id
                type: int
            - column:
                name: ambulance_company_id
                type: varchar(15)
            - column:
                name: police_intervention_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_emergency_care_episode
            tableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: patient_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_patient_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: patient_medical_coverage_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_patient_medical_coverage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient_medical_coverage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: doctors_office_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_doctors_office_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: doctors_office
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_type_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_type_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_type
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_state_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_state_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_state
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_entrance_type_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_entrance_type_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_entrance_type
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_category_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_triage_category_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage_category
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: police_intervention_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_police_intervention_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: police_intervention
            validate: true

    - changeSet:
        id: emergency_care_episode-createTable  
        comment: Create table emergency_care_episode
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: emergency_care_episode
            columns: 
            - column:
                constraints:
                    nullable: false
                name: id
                type: int
            - column:
                name: patient_id
                type: int
            - column:
                name: patient_medical_coverage_id
                type: int
            - column:
                name: emergency_care_type_id
                type: smallint
            - column:
                name: emergency_care_state_id
                type: smallint
            - column:
                name: emergency_care_entrance_type_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: triage_category_id
                type: smallint
            - column:
                name: doctors_office_id
                type: int
            - column:
                name: ambulance_company_id
                type: varchar(15)
            - column:
                name: police_intervention_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_emergency_care_episode
            tableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: patient_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_patient_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: patient_medical_coverage_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_patient_medical_coverage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient_medical_coverage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: doctors_office_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_doctors_office_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: doctors_office
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_type_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_type_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_type
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_state_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_state_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_state
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_entrance_type_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_emergency_care_entrance_type_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_entrance_type
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_category_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_triage_category_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage_category
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: police_intervention_id
            baseTableName: emergency_care_episode
            constraintName: FK_emergency_care_episode_police_intervention_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: police_intervention
            validate: true
   
    - changeSet:
        id: historic_emergency_episode-createTable
        comment: Create table historic_emergency_episode
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: historic_emergency_episode
            columns: 
            - column:
                name: emergency_care_episode_id
                type: int
            - column:
                name: change_state_date
                type: datetime
                defaultValueDate: ${date.now}
            - column:
                constraints:
                    nullable: false
                name: emergency_care_state_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: doctors_office_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: emergency_care_episode_id, change_state_date
            constraintName: PK_historic_emergency_episode
            tableName: historic_emergency_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: doctors_office_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_doctors_office_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: doctors_office
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_state_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_emergency_care_state_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_state
            validate: true

    - changeSet:
        id: historic_emergency_episode-createTable
        comment: Create table historic_emergency_episode
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: historic_emergency_episode
            columns: 
            - column:
                constraints:
                    nullable: false
                name: emergency_care_episode_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: change_state_date
                type: datetime
                defaultValueDate: ${date.now}
            - column:
                constraints:
                    nullable: false
                name: emergency_care_state_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: doctors_office_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: emergency_care_episode_id, change_state_date
            constraintName: PK_historic_emergency_episode
            tableName: historic_emergency_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: doctors_office_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_doctors_office_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: doctors_office
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_state_id
            baseTableName: historic_emergency_episode
            constraintName: FK_historic_emergency_episode_emergency_care_state_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_state
            validate: true
            
    - changeSet:
        id: emergency_care_episode_reason-createTable
        comment: Create table emergency_care_episode_reason
        author: lbergottini
        dbms: postgresql 
        changes: 
        - createTable: 
            tableName: emergency_care_episode_reason
            columns: 
            - column:
                name: emergency_care_episode_id
                type: int
            - column:
                name: reason_id
                type: varchar(20)
        - addPrimaryKey:
            clustered: true
            columnNames: emergency_care_episode_id, reason_id
            constraintName: PK_emergency_care_episode_reason
            tableName: emergency_care_episode_reason
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: emergency_care_episode_reason
            constraintName: FK_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: reason_id
            baseTableName: emergency_care_episode_reason
            constraintName: FK_emergency_care_episode_reasons
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: reasons
            validate: true

    - changeSet:
        id: emergency_care_episode_reason-createTable
        comment: Create table emergency_care_episode_reason
        author: saguero
        dbms: "!postgresql" 
        changes: 
        - createTable: 
            tableName: emergency_care_episode_reason
            columns: 
            - column:
                constraints:
                    nullable: false
                name: emergency_care_episode_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: reason_id
                type: varchar(20)
        - addPrimaryKey:
            clustered: true
            columnNames: emergency_care_episode_id, reason_id
            constraintName: PK_emergency_care_episode_reason
            tableName: emergency_care_episode_reason
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: emergency_care_episode_reason
            constraintName: FK_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: reason_id
            baseTableName: emergency_care_episode_reason
            constraintName: FK_emergency_care_episode_reasons
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: reasons
            validate: true        
            
    - changeSet:
        id: body_temperature-createTable
        comment: Create table body_temperature
        author: lbergottini
        changes: 
        - createTable: 
            tableName: body_temperature
            columns: 
            - column:
                autoIncrement: true
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_body_temperature
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: sctid_code
                type: varchar(20)    
        - addForeignKeyConstraint:
                baseColumnNames: sctid_code
                baseTableName: body_temperature
                constraintName: FK_body_temperature_sctid_code
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: muscle_hypertonia-createTable
        comment: Create table muscle_hypertonia
        author: lbergottini
        changes: 
        - createTable: 
            tableName: muscle_hypertonia
            columns: 
            - column:
                autoIncrement: true
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_muscle_hypertonia
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: sctid_code
                type: varchar(20)    
        - addForeignKeyConstraint:
                baseColumnNames: sctid_code
                baseTableName: muscle_hypertonia
                constraintName: FK_muscle_hypertonia_sctid_code
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true  

    - changeSet:
        id: respiratory_retraction-createTable
        comment: Create table respiratory_retraction
        author: lbergottini
        changes: 
        - createTable: 
            tableName: respiratory_retraction
            columns: 
            - column:
                autoIncrement: true
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_respiratory_retraction
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: sctid_code
                type: varchar(20)    
        - addForeignKeyConstraint:
                baseColumnNames: sctid_code
                baseTableName: respiratory_retraction
                constraintName: FK_respiratory_retraction_sctid_code
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true  
                
    - changeSet:
        id: perfusion-createTable
        comment: Create table perfusion
        author: lbergottini
        changes: 
        - createTable: 
            tableName: perfusion
            columns: 
            - column:
                autoIncrement: true
                constraints:
                    primaryKey: true
                    primaryKeyName: PK_perfusion
                name: id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: description 
                type: varchar(15)
            - column:
                constraints:
                    nullable: false
                name: sctid_code
                type: varchar(20)    
        - addForeignKeyConstraint:
                baseColumnNames: sctid_code
                baseTableName: perfusion
                constraintName: FK_perfusion_sctid_code
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true  
                               
    - changeSet:
        id: triage-createTable  
        comment: Create table triage
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: triage
            columns: 
            - column:
                name: id
                type: int
            - column:
                constraints:
                    nullable: false
                name: emergency_care_episode_id
                type: int
            - column:
                name: notes
                type: varchar(255)
            - column:
                constraints:
                    nullable: false
                name: triage_category_id
                type: smallint
            - column:
                name: healthcare_professional_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_triage
            tableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: healthcare_professional_id
            baseTableName: triage
            constraintName: FK_triage_healthcare_professional_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: healthcare_professional
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: triage
            constraintName: FK_triage_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_category_id
            baseTableName: triage
            constraintName: FK_triage_triage_category_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage_category
            validate: true

    - changeSet:
        id: triage-createTable-mssql  
        comment: Create table triage
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: triage
            columns: 
            - column:
                name: id
                type: int
                autoIncrement: true
            - column:
                constraints:
                    nullable: false
                name: emergency_care_episode_id
                type: int
            - column:
                name: notes
                type: varchar(255)
            - column:
                constraints:
                    nullable: false
                name: triage_category_id
                type: smallint
            - column:
                name: healthcare_professional_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: created_by
                type: int
            - column:
                name: created_on
                type: datetime
                defaultValueDate: ${date.now} 
            - column:
                constraints:
                    nullable: false
                name: updated_by
                type: int
                defaultValue: -1
            - column:
                constraints:
                    nullable: false
                name: updated_on
                type: datetime
                defaultValueDate: ${date.now}
        - addPrimaryKey:
            clustered: true
            columnNames: id
            constraintName: PK_triage
            tableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: healthcare_professional_id
            baseTableName: triage
            constraintName: FK_triage_healthcare_professional_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: healthcare_professional
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: emergency_care_episode_id
            baseTableName: triage
            constraintName: FK_triage_emergency_care_episode_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: emergency_care_episode
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_category_id
            baseTableName: triage
            constraintName: FK_triage_triage_category_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage_category
            validate: true            

    - changeSet:
        id: triage_details-createTable  
        comment: Create table triage_details
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: triage_details
            columns: 
            - column:
                name: triage_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: body_temperature_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: crying_excessive
                type: boolean
            - column:
                constraints:
                    nullable: false
                name: muscle_hypertonia_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: respiratory_retraction_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: stridor
                type: boolean
            - column:
                name: perfusion_id
                type: smallint
        - addPrimaryKey:
            clustered: true
            columnNames: triage_id
            constraintName: PK_triage_details
            tableName: triage_details
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_id
            baseTableName: triage_details
            constraintName: FK_triage_details_triage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: body_temperature_id
            baseTableName: triage_details
            constraintName: FK_triage_details_body_temperature_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: body_temperature
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: muscle_hypertonia_id
            baseTableName: triage_details
            constraintName: FK_triage_details_muscle_hypertonia_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: muscle_hypertonia
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: respiratory_retraction_id
            baseTableName: triage_details
            constraintName: FK_triage_details_respiratory_retraction_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: respiratory_retraction
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: perfusion_id
            baseTableName: triage_details
            constraintName: FK_triage_details_perfusion_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: perfusion
            validate: true
    
    - changeSet:
        id: triage_details-createTable  
        comment: Create table triage_details
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: triage_details
            columns: 
            - column:
                constraints:
                    nullable: false
                name: triage_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: body_temperature_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: crying_excessive
                type: boolean
            - column:
                constraints:
                    nullable: false
                name: muscle_hypertonia_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: respiratory_retraction_id
                type: smallint
            - column:
                constraints:
                    nullable: false
                name: stridor
                type: boolean
            - column:
                name: perfusion_id
                type: smallint
        - addPrimaryKey:
            clustered: true
            columnNames: triage_id
            constraintName: PK_triage_details
            tableName: triage_details
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_id
            baseTableName: triage_details
            constraintName: FK_triage_details_triage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: body_temperature_id
            baseTableName: triage_details
            constraintName: FK_triage_details_body_temperature_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: body_temperature
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: muscle_hypertonia_id
            baseTableName: triage_details
            constraintName: FK_triage_details_muscle_hypertonia_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: muscle_hypertonia
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: respiratory_retraction_id
            baseTableName: triage_details
            constraintName: FK_triage_details_respiratory_retraction_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: respiratory_retraction
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: perfusion_id
            baseTableName: triage_details
            constraintName: FK_triage_details_perfusion_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: perfusion
            validate: true
            
    - changeSet:
        id: triage_vital_signs-createTable
        comment: Create table triage_vital_signs
        author: lbergottini
        dbms: postgresql
        changes: 
        - createTable: 
            tableName: triage_vital_signs
            columns: 
            - column:
                name: triage_id
                type: int
            - column:
                name: observation_vital_sign_id
                type: int
        - addPrimaryKey:
            clustered: true
            columnNames: triage_id, observation_vital_sign_id
            constraintName: PK_triage_vital_signs
            tableName: triage_vital_signs
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_id
            baseTableName: triage_vital_signs
            constraintName: FK_triage_vital_signs_triage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: observation_vital_sign_id
            baseTableName: triage_vital_signs
            constraintName: FK_triage_vital_signs_observation_vital_signs_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: observation_vital_sign
            validate: true
    
    - changeSet:
        id: triage_vital_signs-createTable
        comment: Create table triage_vital_signs
        author: saguero
        dbms: "!postgresql"
        changes: 
        - createTable: 
            tableName: triage_vital_signs
            columns: 
            - column:
                constraints:
                    nullable: false
                name: triage_id
                type: int
            - column:
                constraints:
                    nullable: false
                name: observation_vital_sign_id
                type: int
        - addPrimaryKey:
            clustered: true
            columnNames: triage_id, observation_vital_sign_id
            constraintName: PK_triage_vital_signs
            tableName: triage_vital_signs
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: triage_id
            baseTableName: triage_vital_signs
            constraintName: FK_triage_vital_signs_triage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: triage
            validate: true
        - addForeignKeyConstraint:
            baseColumnNames: observation_vital_sign_id
            baseTableName: triage_vital_signs
            constraintName: FK_triage_vital_signs_observation_vital_signs_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: observation_vital_sign
            validate: true

    - changeSet:
        id: emergency_care_type-data
        comment: Carga de datos emergency_care_type
        author: lbergottini
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO emergency_care_type VALUES (1, 'Adulto');
                    INSERT INTO emergency_care_type VALUES (2, 'Pediatra');
                    INSERT INTO emergency_care_type VALUES (3, 'Ginecolgica y obstetricia');
                    
    - changeSet:
        id: emergency_care_entrance_type-data
        comment: Carga de datos emergency_care_entrance_type
        author: lbergottini
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO emergency_care_entrance_type VALUES (1, 'Caminando');
                    INSERT INTO emergency_care_entrance_type VALUES (2, 'En silla de ruedas');
                    INSERT INTO emergency_care_entrance_type VALUES (3, 'Ambulancia sin mdico');            
                    INSERT INTO emergency_care_entrance_type VALUES (4, 'Ambulancia con mdico');
                    
    - changeSet:
        id: emergency_care_state-data
        comment: Carga de datos emergency_care_state
        author: lbergottini
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO emergency_care_state VALUES (1, 'En atencin');
                    INSERT INTO emergency_care_state VALUES (2, 'En espera');
                    INSERT INTO emergency_care_state VALUES (3, 'Finalizado por ausencia');            
                    INSERT INTO emergency_care_state VALUES (4, 'Finalizado por alta');
                    
    - changeSet:
        id: snomed-data
        comment: Carga de datos snomed
        author: lbergottini
        context: "!schema-only"
        dbms: postgresql
        changes:
            - sql:
                sql: |-
                    INSERT INTO snomed VALUES ('386661006', 'Fiebre','50177009', '') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('386689009', 'Hipotermia','846676008', 'Temperatura corporal por debajo del rango de referencia') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('17621005', 'Normal','', '') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('56731001', 'Hipertona','', 'Tono muscular aumentado') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('398152000', 'Hipotona','', 'Tono muscular disminuido') ON CONFLICT DO NOTHING; 
                    INSERT INTO snomed VALUES ('248567008', 'Intercostal','', 'Estiramiento de las costillas durante la respiracin') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('60132005', 'Generalizado','', '') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('373067005', 'No','', '') ON CONFLICT DO NOTHING;
                    INSERT INTO snomed VALUES ('18307000', 'Alterada','', '') ON CONFLICT DO NOTHING;
    
    - changeSet:
        id: snomed-data
        comment: Carga de datos snomed
        author: lbergottini
        context: "!schema-only"
        dbms: mssql
        changes:
            - sql:
                sql: |-
                    INSERT INTO snomed SELECT '386661006', 'Fiebre','50177009', '' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '386661006');
                    INSERT INTO snomed SELECT '386689009', 'Hipotermia','846676008', 'Temperatura corporal por debajo del rango de referencia' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '386689009');
                    INSERT INTO snomed SELECT '17621005', 'Normal','', '' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '17621005');
                    INSERT INTO snomed SELECT '56731001', 'Hipertona','', 'Tono muscular aumentado' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '56731001');
                    INSERT INTO snomed SELECT '398152000', 'Hipotona','', 'Tono muscular disminuido' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '398152000'); 
                    INSERT INTO snomed SELECT '248567008', 'Intercostal','', 'Estiramiento de las costillas durante la respiracin' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '248567008');
                    INSERT INTO snomed SELECT '60132005', 'Generalizado','', '' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '60132005');
                    INSERT INTO snomed SELECT '373067005', 'No','', '' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '373067005');
                    INSERT INTO snomed SELECT '18307000', 'Alterada','', '' WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '18307000');

    - changeSet:
        id: snomed-data
        comment: Carga de datos snomed
        author: saguero
        context: "!schema-only"
        dbms: db2
        changes:
            - sql:
                sql: |-
                    INSERT INTO snomed SELECT '386661006', 'Fiebre','50177009', '' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '386661006');
                    INSERT INTO snomed SELECT '386689009', 'Hipotermia','846676008', 'Temperatura corporal por debajo del rango de referencia' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '386689009');
                    INSERT INTO snomed SELECT '17621005', 'Normal','', '' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '17621005');
                    INSERT INTO snomed SELECT '56731001', 'Hipertona','', 'Tono muscular aumentado' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '56731001');
                    INSERT INTO snomed SELECT '398152000', 'Hipotona','', 'Tono muscular disminuido' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '398152000'); 
                    INSERT INTO snomed SELECT '248567008', 'Intercostal','', 'Estiramiento de las costillas durante la respiracin' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '248567008');
                    INSERT INTO snomed SELECT '60132005', 'Generalizado','', '' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '60132005');
                    INSERT INTO snomed SELECT '373067005', 'No','', '' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '373067005');
                    INSERT INTO snomed SELECT '18307000', 'Alterada','', '' FROM ( values(1) ) WHERE NOT EXISTS (SELECT 1 FROM snomed where id = '18307000');
                    
    - changeSet:
        id: body_temperature-data
        comment: Carga de datos body_temperature
        author: lbergottini
        dbms: "!mssql"
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO body_temperature VALUES (1, 'Fiebre','386661006');
                    INSERT INTO body_temperature VALUES (2, 'Hipotermia','386689009');
                    INSERT INTO body_temperature VALUES (3, 'Normal','17621005');

    - changeSet:
        id: body_temperature-data
        comment: Carga de datos body_temperature
        author: saguero
        dbms: mssql
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO body_temperature VALUES ('Fiebre','386661006');
                    INSERT INTO body_temperature VALUES ('Hipotermia','386689009');
                    INSERT INTO body_temperature VALUES ('Normal','17621005');
                    
    - changeSet:
        id: muscle_hypertonia-data
        comment: Carga de datos muscle_hypertonia
        author: lbergottini
        dbms: "!mssql"
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO muscle_hypertonia VALUES (1, 'Hipertona', '56731001');
                    INSERT INTO muscle_hypertonia VALUES (2, 'Hipotona','398152000');
                    INSERT INTO muscle_hypertonia VALUES (3, 'Normal','17621005');

    - changeSet:
        id: muscle_hypertonia-data
        comment: Carga de datos muscle_hypertonia
        author: saguero
        dbms: mssql
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO muscle_hypertonia VALUES ('Hipertona', '56731001');
                    INSERT INTO muscle_hypertonia VALUES ('Hipotona','398152000');
                    INSERT INTO muscle_hypertonia VALUES ('Normal','17621005');

    - changeSet:
        id: respiratory_retraction-data
        comment: Carga de datos respiratory_retraction
        author: lbergottini
        dbms: "!mssql"
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO respiratory_retraction VALUES (1, 'Intercostal', '248567008');
                    INSERT INTO respiratory_retraction VALUES (2, 'Generalizado','60132005');
                    INSERT INTO respiratory_retraction VALUES (3, 'No','373067005');

    - changeSet:
        id: respiratory_retraction-data
        comment: Carga de datos respiratory_retraction
        author: saguero
        dbms: mssql
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO respiratory_retraction VALUES ('Intercostal', '248567008');
                    INSERT INTO respiratory_retraction VALUES ('Generalizado','60132005');
                    INSERT INTO respiratory_retraction VALUES ('No','373067005');
                    
    - changeSet:
        id: perfusion-data
        comment: Carga de datos perfusion
        author: lbergottini
        dbms: "!mssql"
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO perfusion VALUES (1, 'Normal','17621005');
                    INSERT INTO perfusion VALUES (2, 'Alterada','18307000');

    - changeSet:
        id: perfusion-data
        comment: Carga de datos perfusion
        author: saguero
        dbms: mssql
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO perfusion VALUES ('Normal','17621005');
                    INSERT INTO perfusion VALUES ('Alterada','18307000');
                    
    - changeSet:
        id: triage_category-data
        comment: Carga de datos triage_category
        author: lbergottini
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    INSERT INTO triage_category VALUES (1, 'Nivel I','Resucitacin', 'Rojo', '#D34444');
                    INSERT INTO triage_category VALUES (2, 'Nivel II','Emergencia', 'Naranja', '#FF5C00');
                    INSERT INTO triage_category VALUES (3, 'Nivel III','Urgencia', 'Amarillo', '#EDBE00');
                    INSERT INTO triage_category VALUES (4, 'Nivel IV','Menos urgente', 'Verde', '#009B68');
                    INSERT INTO triage_category VALUES (5, 'Nivel V','No urgente', 'Azul', '#2687C5');

    - changeSet:
        id: drop-document-id-columns
        author: martinscooper
        dbms: "!mssql"
        changes:
            - dropColumn:
                columnName: doc_id
                tableName: service_request

 #------------------------- Ajuste drop-column-with-FK para coincidir con MSSQL ----------------------- 
    - changeSet:
        id: drop-document-id-columns
        author: saguero
        dbms: mssql
        changes:
            - dropForeignKeyConstraint:
                baseTableName: service_request
                constraintName: FK_service_request_doc_id
            - dropColumn:
                columnName: doc_id
                tableName: service_request
    
    - changeSet:
        id: medication_statement-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: medication_statement
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true  

    - changeSet:
        id: inmunization-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: inmunization
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true  

    - changeSet:
        id: procedures-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: procedures
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true
    
    - changeSet:
        id: health_condition-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: health_condition
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true  

    - changeSet:
        id: allergy_intolerance-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: allergy_intolerance
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true 

    - changeSet:
        id: observation_vital_sign-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: observation_vital_sign
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true   

    - changeSet:
        id: observation_lab-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: observation_lab
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true  
    
    - changeSet:
        id: diagnostic_report-addColumn-cie10_codes
        author: tmedina
        changes:
            - addColumn:
                tableName: diagnostic_report
                columns:
                - column:
                    name: cie10_codes
                    type: varchar(255)
                    constraints:
                        nullable: true  
    - changeSet:
        id: dropPrimaryKey-snomed
        author: saguero
        dbms: db2
        changes:
        - dropPrimaryKey:
            constraintName: PK_SNOMED
            dropIndex: true
            tableName: snomed

    - changeSet:
        id: rename-snomed-id-column
        author: tmedina
        changes:
            - renameColumn:  
                columnDataType: int  
                newColumnName: sctid  
                oldColumnName: id  
                tableName:  snomed

    - changeSet:
        id: snomed-addColumn-id
        author: tmedina
        dbms: postgresql
        changes:
            - addColumn:
                tableName: snomed
                columns:
                - column:
                    name: id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: true

    - changeSet:
        id: snomed-addColumn-id
        author: saguero
        dbms: mssql
        changes:
            - addColumn:
                tableName: snomed
                columns:
                - column:
                    name: id
                    type: int
                    autoIncrement: true

    - changeSet:
        id: snomed-addColumn-id
        author: saguero
        dbms: db2
        changes:
            - addColumn:
                tableName: snomed
                columns:
                - column:
                    name: id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: dropDefaultValue-snomed-id
        author: saguero
        dbms: db2
        changes:
        - dropDefaultValue:
            columnName: id  
            tableName: snomed
    
    - changeSet:
        id: snomed-addAutoIncrement-id
        author: tmedina
        dbms: "!mssql"
        changes:
            - addAutoIncrement:
                columnDataType: int  
                columnName: id  
                generationType: ALWAYS  
                incrementBy: 1  
                startWith: 1 
                tableName: snomed
    
    - changeSet:
        id: snomed-update-autoincremental-value-id
        author: tmedina
        dbms: "!mssql"
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE snomed
                    SET id = default; 

    - changeSet:
        id: snomed-addUniqueConstraint-id
        author: tmedina
        changes:
            - addUniqueConstraint:
                columnNames: id
                constraintName: UQ_id
                tableName: snomed

    - changeSet:
        id: inmunization-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: inmunization
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: inmunization-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE inmunization
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE inmunization.sctid_code = snomed.sctid; 

    - changeSet:
        id: inmunization-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: inmunization
                constraintName: FK_inmunization_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: medication_statement-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: medication_statement
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: medication_statement-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE medication_statement
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE medication_statement.sctid_code = snomed.sctid; 

    - changeSet:
        id: medication_statement-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: medication_statement
                constraintName: FK_medication_statement_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true
    
    - changeSet:
        id: procedures-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: procedures
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: procedures-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE procedures
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE procedures.sctid_code = snomed.sctid; 

    - changeSet:
        id: procedures-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: procedures
                constraintName: FK_procedures_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true
    
    - changeSet:
        id: health_condition-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: health_condition
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false
        
    - changeSet:
        id: health_condition-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE health_condition
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE health_condition.sctid_code = snomed.sctid; 

    - changeSet:
        id: health_condition-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: health_condition
                constraintName: FK_health_condition_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: allergy_intolerance-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: allergy_intolerance
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: allergy_intolerance-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE allergy_intolerance
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE allergy_intolerance.sctid_code = snomed.sctid; 

    - changeSet:
        id: allergy_intolerance-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: allergy_intolerance
                constraintName: FK_allergy_intolerance_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: observation_vital_sign-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: observation_vital_sign
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: observation_vital_sign-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE observation_vital_sign
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE observation_vital_sign.sctid_code = snomed.sctid; 
    
    - changeSet:
        id: observation_vital_sign-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: observation_vital_sign
                constraintName: FK_observation_vital_sign_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: observation_lab-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: observation_lab
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false
    
    - changeSet:
        id: observation_lab-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE observation_lab
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE observation_lab.sctid_code = snomed.sctid; 
    
    - changeSet:
        id: observation_lab-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: observation_lab
                constraintName: FK_observation_lab_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: diagnostic_report-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: diagnostic_report
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false
    
    - changeSet:
        id: diagnostic_report-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE diagnostic_report
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE diagnostic_report.sctid_code = snomed.sctid; 
    
    - changeSet:
        id: diagnostic_report-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: diagnostic_report
                constraintName: FK_diagnostic_report_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: body_temperature-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: body_temperature
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: body_temperature-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE body_temperature
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE body_temperature.sctid_code = snomed.sctid; 

    - changeSet:
        id: body_temperature-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: body_temperature
                constraintName: FK_body_temperature_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: muscle_hypertonia-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: muscle_hypertonia
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: muscle_hypertonia-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE muscle_hypertonia
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE muscle_hypertonia.sctid_code = snomed.sctid; 

    - changeSet:
        id: muscle_hypertonia-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: muscle_hypertonia
                constraintName: FK_muscle_hypertonia_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: respiratory_retraction-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: respiratory_retraction
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: respiratory_retraction-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE respiratory_retraction
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE respiratory_retraction.sctid_code = snomed.sctid; 

    - changeSet:
        id: respiratory_retraction-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: respiratory_retraction
                constraintName: FK_respiratory_retraction_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: perfusion-addColumn-snomed_id
        author: tmedina
        changes:
            - addColumn:
                tableName: perfusion
                columns:
                - column:
                    name: snomed_id
                    type: int
                    defaultValue: '-1'
                    constraints:
                        nullable: false

    - changeSet:
        id: perfusion-updateReferenceValue-snomed_id
        author: tmedina
        context: "!schema-only"
        changes:
            - sql:
                sql: |-
                    UPDATE perfusion
                    SET snomed_id = snomed.id
                    FROM snomed 
                    WHERE perfusion.sctid_code = snomed.sctid; 

    - changeSet:
        id: perfusion-addForeignKeyConstraint-snomed_id
        author: tmedina
        changes:
            - addForeignKeyConstraint:
                baseColumnNames: snomed_id
                baseTableName: perfusion
                constraintName: FK_perfusion_snomed_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: snomed
                validate: true

    - changeSet:
        id: inmunization-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: inmunization
            constraintName: FK_inmunization_sctid_code

    - changeSet:
        id: inmunization-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: inmunization

    - changeSet:
        id: medication_statement-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: medication_statement
            constraintName: FK_medication_statement_sctid_code

    - changeSet:
        id: medication_statement-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: medication_statement

    - changeSet:
        id: procedures-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: procedures
            constraintName: FK_procedures_sctid_code

    - changeSet:
        id: procedures-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: procedures

    - changeSet:
        id: health_condition-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: health_condition
            constraintName: FK_health_condition_sctid_code

    - changeSet:
        id: health_condition-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: health_condition
    
    - changeSet:
        id: allergy_intolerance-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: allergy_intolerance
            constraintName: FK_allergy_intolerance_sctid_code

    - changeSet:
        id: allergy_intolerance-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: allergy_intolerance
    
    - changeSet:
        id: observation_vital_sign-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: observation_vital_sign
            constraintName: FK_observation_vital_sign_sctid_code

    - changeSet:
        id: observation_vital_sign-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: observation_vital_sign

    - changeSet:
        id: observation_lab-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: observation_lab
            constraintName: FK_observation_lab_sctid_code

    - changeSet:
        id: observation_lab-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: observation_lab

    - changeSet:
        id: diagnostic_report-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: diagnostic_report
            constraintName: FK_diagnostic_report_sctid_code

    - changeSet:
        id: diagnostic_report-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: diagnostic_report

    - changeSet:
        id: body_temperature-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: body_temperature
            constraintName: FK_body_temperature_sctid_code

    - changeSet:
        id: body_temperature-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: body_temperature

    - changeSet:
        id: muscle_hypertonia-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: muscle_hypertonia
            constraintName: FK_muscle_hypertonia_sctid_code

    - changeSet:
        id: muscle_hypertonia-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: muscle_hypertonia

    - changeSet:
        id: respiratory_retraction-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: respiratory_retraction
            constraintName: FK_respiratory_retraction_sctid_code

    - changeSet:
        id: respiratory_retraction-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: respiratory_retraction

    - changeSet:
        id: perfusion-dropForeignKey-sctid_code
        author: tmedina
        dbms: "!db2"
        changes:
        - dropForeignKeyConstraint:
            baseTableName: perfusion
            constraintName: FK_perfusion_sctid_code

    - changeSet:
        id: perfusion-dropNotNullConstraint-sctid_code
        author: tmedina
        changes:
        - dropNotNullConstraint:
            columnDataType: varchar(20)
            columnName: sctid_code
            tableName: perfusion

    - changeSet:
        id: snomed-dropPrimaryKey
        author: tmedina
        dbms: "!db2"
        changes:
        - dropPrimaryKey:
            constraintName: PK_snomed
            dropIndex: true
            tableName: snomed
            
    - changeSet:
        id: snomed-addPrimaryKey
        author: tmedina
        changes:
        - addPrimaryKey:
            columnNames: id
            constraintName: PK_snomed
            tableName: snomed
            validate: true
    
    - changeSet:
        id: snomed-addUniqueConstraint-sctid-pt
        author: tmedina
        changes:
        - addUniqueConstraint:
            columnNames: sctid, pt
            constraintName: UQ_sctid_pt
            tableName: snomed

    - changeSet:
        id: medical_request-addColumn-health_condition_id
        author: tmedina
        dbms: "!db2"
        changes:
            - addColumn:
                tableName: medical_request
                columns:
                - column:
                    name: health_condition_id
                    type: int
                    constraints:
                        nullable: false  
            - addForeignKeyConstraint:
                baseColumnNames: health_condition_id
                baseTableName: medical_request
                constraintName: FK_medical_request_health_condition_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: health_condition
                validate: true
    
    - changeSet:
        id: medical_request-addColumn-health_condition_id
        author: saguero
        dbms: db2
        changes:
            - addColumn:
                tableName: medical_request
                columns:
                - column:
                    name: health_condition_id
                    type: int
                    constraints:
                        nullable: false
                    defaultValue: -1  
            - addForeignKeyConstraint:
                baseColumnNames: health_condition_id
                baseTableName: medical_request
                constraintName: FK_medical_request_health_condition_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: health_condition
                validate: true

    - changeSet:
        id: dropNotNullConstraint-coverage_id
        comment: medical_coverage_id puede ser null en la tabla service_request
        author: martinscooper
        dbms: "!mssql"
        changes:
            - dropNotNullConstraint:
                columnName: medical_coverage_id
                tableName: service_request

    - changeSet:
        id: dropNotNullConstraint-coverage_id
        comment: medical_coverage_id puede ser null en la tabla service_request
        author: saguero
        dbms: mssql
        changes:
            - dropNotNullConstraint:
                columnName: medical_coverage_id
                columnDataType: int
                tableName: service_request
                
    - changeSet:
        id: drop-sctid_code-column
        author: martinscooper
        changes:
            - dropColumn:
                columnName: sctid_code
                tableName: diagnostic_report
    
    - changeSet:  
        id:  dropForeignKeyConstraint-FK_medication_request_medical_coverage_id  
        author:  etrapani  
        changes:  
        -  dropForeignKeyConstraint:  
            baseTableName:  medication_request  
            constraintName:  FK_medication_request_medical_coverage_id

    - changeSet:  
        id:  addForeignKeyConstraint-FK_medication_request_medical_coverage_id  
        author:  etrapani  
        changes:  
        - addForeignKeyConstraint:
            baseColumnNames: medical_coverage_id
            baseTableName: medication_request
            constraintName: FK_medication_request_medical_coverage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient_medical_coverage
            validate: true
    
    - changeSet:  
        id:  dropForeignKeyConstraint-FK_service_request_medical_coverage_id  
        author:  etrapani  
        changes:  
        -  dropForeignKeyConstraint:  
            baseTableName:  service_request  
            constraintName:  FK_service_request_medical_coverage_id

    - changeSet:  
        id:  addForeignKeyConstraint-FK_service_request_medical_coverage_id  
        author:  etrapani  
        changes:  
        - addForeignKeyConstraint:
            baseColumnNames: medical_coverage_id
            baseTableName: service_request
            constraintName: FK_service_request_medical_coverage_id
            onDelete: NO ACTION
            onUpdate: NO ACTION
            referencedColumnNames: id
            referencedTableName: patient_medical_coverage
            validate: true

    - changeSet:
        id: addNotNullConstraint-emergency_care_episode
        author: lbergottini
        changes:
        -  addNotNullConstraint:
            columnDataType: int
            columnName:  doctors_office_id
            constraintName: NN_doctors_office_id
            tableName:  emergency_care_episode
            validate:  true