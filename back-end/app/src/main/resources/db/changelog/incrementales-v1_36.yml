databaseChangeLog: 
    - logicalFilePath: incrementales-v1_36 

    - changeSet:
        id: add-other_indication_type-options
        comment: Agregar opciones de tipos de otras indicaciones
        author: mvenere
        context: "!schema-only"
        dbms: postgresql
        changes:
          - sql:
              sql: |-
                INSERT INTO other_indication_type(description) VALUES ('Control de signos vitales') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Diuresis') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Balance hídrico') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Alimentación enteral') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Alimentación parenteral') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Oxigenoterapia') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Control de glucemia') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Nebulizaciones') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Resumen') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(description) VALUES ('Otro') ON CONFLICT DO NOTHING;

    - changeSet:
        id: other_indication-add-other_type
        comment: Create column other_type to other_indication
        author: mvenere
        changes:
          - addColumn:
              columns:
                - column:
                    name: other_type
                    type: varchar(255)
              tableName: other_indication

    - changeSet:
        id: dropNotNullConstraint-other_indication-dosage_id
        author: mvenere
        changes:
          - dropNotNullConstraint:
              columnDataType: int
              columnName: dosage_id
              tableName: other_indication

    - changeSet:
        id: update-dosage-start_date-type
        author: mvenere
        changes:
          - modifyDataType:
              columnName: start_date
              newDataType: datetime
              tableName: dosage

    - changeSet:
        id: update-dosage-end_date-type
        author: mvenere
        changes:
          - modifyDataType:
              columnName: end_date
              newDataType: datetime
              tableName: dosage

    - changeSet:
        id: update-pharmaco-via-type
        comment: Actualiza tipo de dato de la columna via en pharmaco
        author: bchacon
        changes:
          - modifyDataType:
              columnName: via
              newDataType: smallint
              tableName: pharmaco


    - changeSet:
        id: addNotNullConstraint-via-pharmaco
        author: bchacon
        changes:
          - addNotNullConstraint:
              columnDataType: smallint
              columnName: via
              tableName: pharmaco
              validate: true

    - changeSet:
          id: addNotNullConstraint-via-pharmaco
          author: bchacon
          changes:
              - addNotNullConstraint:
                    columnDataType: smallint
                    columnName: via
                    tableName: pharmaco
                    validate: true

    - changeSet:
        id: delete-other_indication_type-concepts
        comment: Borrado de tipos de indicacion
        author: mvenere
        context: "!schema-only"
        changes:
          - sql:
              sql: |-
                DELETE FROM other_indication_type WHERE id='4';
                DELETE FROM other_indication_type WHERE id='5';
                DELETE FROM other_indication_type WHERE id='6';
                DELETE FROM other_indication_type WHERE id='7';
                DELETE FROM other_indication_type WHERE id='8';
                DELETE FROM other_indication_type WHERE id='9';
                DELETE FROM other_indication_type WHERE id='10';

    - changeSet:
        id: add-mising-other_indication_type-concepts
        comment: Agrega tipos de indicacion
        author: mvenere
        context: "!schema-only"
        dbms: postgresql
        changes:
          - sql:
              sql: |-
                INSERT INTO other_indication_type(id,description) VALUES ('4','Peso') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('5','Alimentación enteral') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('6','Alimentación parenteral') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('7','Oxigenoterapia') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('8','Control de glucemia') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('9','Nebulizaciones') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('10','Resumen') ON CONFLICT DO NOTHING;
                INSERT INTO other_indication_type(id,description) VALUES ('11','Otro') ON CONFLICT DO NOTHING;

        id: frequency-createTable
        author: fsimaro
        comment: Create table Frequency
        changes:
          - createTable:
              tableName: frequency
              columns:
                - column:
                    autoIncrement: true
                    constraints:
                      primaryKey: true
                      primaryKeyName: PK_frequency
                      references: frequency(id)
                      foreignKeyName: FK_frequency
                      nullable: false
                    name: id
                    type: int
                - column:
                    name: duration
                    type: time
                - column:
                    constraints:
                      nullable: false
                    name: flow_ml_hour
                    type: int
                - column:
                    constraints:
                      nullable: false
                    name: flow_drops_hour
                    type: float
                - column:
                    name: daily_volume
                    type: float
