databaseChangeLog: 
    - logicalFilePath: incrementales-v1_25 
    
    - changeSet: 
        id: self_perceived_gender-metadata
        author: lbergottini
        changes: 
            - sql:
                sql: |-
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (1,'Mujer cis',2);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (2,'Varón cis',5);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (3,'Travesti',1);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (4,'Mujer trans',3);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (5,'No binarie',4);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (6,'Varón trans',6);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (7,'Gay',7);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (8,'Lesbiana',8);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (9,'Género fluido',9);
                    INSERT INTO self_perceived_gender (id,description,orden) VALUES (10,'Ninguna de las anteriores',10);
                    
    - changeSet:
        id: person_extended-addColumn-other_gender_self_determination
        comment: add new column other_gender_self_determination to person_extended table
        author: lbergottini
        changes:
        - addColumn:
            tableName: person_extended
            columns:
            - column:
                name: other_gender_self_determination
                type: varchar(40)

    - changeSet:
        id: odontology_consultation_indices-createTable
        comment: Create table odontology_consultation_indices
        author: tmedina
        changes: 
            - createTable: 
                tableName: odontology_consultation_indices
                columns: 
                    - column:
                        autoIncrement: true
                        constraints:
                            primaryKey: true
                            primaryKeyName: PK_odontology_consultation_indices
                        name: id
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: odontology_consultation_id
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: permanent_c
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: permanent_p
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: permanent_o
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: temporary_c
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: temporary_e
                        type: int
                    - column:
                        constraints:
                            nullable: false
                        name: temporary_o
                        type: int
                    - column:
                        name: permanent_teeth_present
                        type: int
                    - column:
                        name: temporary_teeth_present
                        type: int                
                    - column:
                        constraints:
                            nullable: false
                        name: date
                        type: datetime
                        defaultValueDate: ${date.now}
            - addForeignKeyConstraint:
                baseColumnNames: odontology_consultation_id
                baseTableName: odontology_consultation_indices
                constraintName: FK_odontology_consultation_indices_odontology_consultation_id
                onDelete: NO ACTION
                onUpdate: NO ACTION
                referencedColumnNames: id
                referencedTableName: odontology_consultation
                validate: true

    - changeSet:      
          id: tooth_indices-createTable
          comment: Create table tooth_indices
          author: tmedina
          changes:
              - createTable:
                    tableName: tooth_indices
                    columns:
                        - column:
                              constraints:
                                  nullable: false
                              name: patient_id
                              type: int
                        - column:
                              constraints:
                                  nullable: false
                              name: tooth_id
                              type: varchar(20)
                        - column:
                              constraints:
                                  nullable: false
                              name: temporary
                              type: boolean
                        - column:
                              name: whole_tooth
                              type: varchar(10)
                        - column:
                              name: internal_surface
                              type: varchar(10)
                        - column:
                              name: external_surface
                              type: varchar(10)
                        - column:
                              name: central_surface
                              type: varchar(10)
                        - column:
                              name: left_surface
                              type: varchar(10)
                        - column:
                              name: right_surface
                              type: varchar(10)
              - addPrimaryKey:
                    clustered: true
                    columnNames: patient_id, tooth_id
                    constraintName: PK_tooth_indices
                    tableName: tooth_indices
                    validate: true
              - addForeignKeyConstraint:
                    baseColumnNames: patient_id
                    baseTableName: tooth_indices
                    constraintName: FK_tooth_indices_patient_id
                    onDelete: NO ACTION
                    onUpdate: NO ACTION
                    referencedColumnNames: id
                    referencedTableName: patient
                    validate: true
              - addForeignKeyConstraint:
                    baseColumnNames: tooth_id
                    baseTableName: tooth_indices
                    constraintName: FK_tooth_indices_tooth_id
                    onDelete: NO ACTION
                    onUpdate: NO ACTION
                    referencedColumnNames: sctid
                    referencedTableName: tooth
                    validate: true



