<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Digital Recipe</title>

    <style>
        @page {
            margin: 0;
        }

        body {
            margin: 0;
        }

        html {
            background: #00ADC1;
            font-family: Arial, Helvetica, sans-serif;
        }

        .centered-content {
            text-align: center;
        }

        .text {
            font-size: 20px;
        }

        .blue-text {
            color: #00ADC1;
        }

        .white-text {
            color: white;
        }

        .element-box {
            padding: 10px;
            margin-left: 50px;
            margin-right: 50px;
            margin-bottom: 10px;
            border-radius: 25px;
            overflow: hidden;
        }

        .white-color {
            background: white;
        }

        .pink-color {
            background: #E62176;
        }

        .medication-box {
            padding-top: 10px;
            padding-bottom: 10px;
            margin-left: 15px;
            margin-right: 15px;
            margin-top: 20px;
            border-radius: 25px;
            margin-top: 20px;
        }

        .light-pink-color {
            background: #EB88A7;
        }

        .light-blue-color {
            background: #00C2D0;
        }

        .lighter-pink-color {
            background: #FAE2E9;
        }

        .lighter-blue-color {
            background: #C9F0F4;
        }

        .observation-box {
            padding: 10px;
            margin-left: 50px;
            margin-right: 50px;
            margin-top: 20px;
            border-radius: 25px;
        }

	</style>
</head>
<body>
    <div style="margin-bottom: 60px;">
        <div th:replace="fragments/digital_recipe_header.html :: header"></div>
    </div>
    <div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="text">FECHA DE PRESCRIPCIÓN</strong><br/>
            <span class="text" th:text="${requestDate}"></span><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="text">FECHA DE VENCIMIENTO</strong><br/>
            <span class="text" th:text="${dateUntil}"></span><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="text">NÚMERO DE RECETA</strong><br/>
            <img th:src="${'data:image/jpeg;charset=utf-8;base64,' + recipeNumberBarCode}" alt=""></img><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="text">NÚMERO DE DNI</strong><br/>
            <img th:src="${'data:image/jpeg;charset=utf-8;base64,' + patientIdentificationNumberBarCode}" alt=""></img><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="blue-text text">DNI</strong><br/>
            <span class="text" th:text="${patient.person.identificationNumber}"></span><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="blue-text text">APELLIDO Y NOMBRE</strong><br/>
            <span class="text" th:text="${patient.person.completeName()}"></span><br/>
        </div>
        <div class="element-box centered-content" th:classappend="white-color">
            <strong class="blue-text text">COBERTURA DE SALUD</strong><br/>
            <span class="text" th:text="${patientCoverage?.medicalCoverage?.name}"></span><br/>
        </div>
        <div class="centered-content">
            <div class="element-box" th:classappend="white-color">
                <div style="float:left; margin-left: 60px;">
                    <strong class="blue-text text">NÚMERO DE AFILIADO</strong><br/>
                    <span class="text" th:text="${patientCoverage?.affiliateNumber}"></span><br/>
                </div>
                <div style="float:right; margin-right: 60px;">
                    <strong class="blue-text text">EDAD</strong><br/>
                    <span class="text" th:text="${patient.person.age}"></span><br/>
                </div>
            </div>
        </div>
        <div class="centered-content" style="padding:30px;">
            <strong class="white-text" style="font-size: xx-large;">FIRMADO ELECTRÓNICAMENTE por:</strong><br/>
        </div>
        <div class="element-box centered-content" th:classappend="pink-color">
            <strong class="white-text text">APELLIDO Y NOMBRE</strong><br/>
            <span class="white-text text" th:text="${professional.getCompleteName(professional.getNameSelfDetermination())}"></span><br/>
        </div>
        <div class="centered-content">
            <div class="element-box" th:classappend="pink-color">
                <div style="float:left; margin-left: 20px;">
                    <strong class="white-text text">MATRÍCULA NACIONAL N°</strong><br/>
                    <span class="white-text text" th:text="${nationalLicense}">?</span><br/>
                </div>
                <div style="float:right; margin-right: 20px;">
                    <strong class="white-text text">MATRÍCULA PROVINCIAL N°</strong><br/>
                    <span class="white-text text" th:text="${stateLicense}">?</span><br/>
                </div>
            </div>
        </div>
        <div class="centered-content">
            <div class="element-box" th:classappend="pink-color">
                <div style="float:left; margin-left: 60px;">
                    <strong class="white-text text">PROFESIÓN</strong><br/>
                    <span class="white-text text" th:text="${professionalProfession}">?</span><br/>
                </div>
                <div style="float:right; margin-right: 60px;">
                    <strong class="text white-text">ESPECIALIDAD</strong><br/>
                    <span class="text white-text" th:text="${clinicalSpecialty}">?</span><br/>
                </div>
            </div>
        </div>
        <div id="medication-list">
            <div th:each="medication : ${medications}">
                <div class="medication-box" th:classappend="${medication.prescriptionLineNumber % 2 == 0} ? light-pink-color : light-blue-color">
                    <div class="centered-content" style="margin-top: 5px; margin-bottom: 5px;">
                        <strong class="white-text text">Rp.</strong><strong class="white-text text" th:text="${medication.prescriptionLineNumber}"></strong><br/>
                    </div>
                    <div class="element-box centered-content" th:classappend="white-color">
                        <strong class="text">GENÉRICO</strong><br/>
                        <span class="text" th:text="${medication.snomed.pt}"></span><br/>
                    </div>
                    <div class="centered-content">
                        <div class="element-box" th:classappend="white-color">
                            <div style="float:left; margin-left: 60px;">
                                <strong class="text">DOSIS/UNIDAD</strong><br/>
                                <span class="text" th:text="${medication.dosage.dosesByUnit}"></span><br/>
                            </div>
                            <div style="float:right; margin-right: 60px;">
                                <strong class="text">DOSIS/DIA</strong><br/>
                                <span class="text" th:text="${medication.dosage.dosesByDay}"></span><br/>
                            </div>
                        </div>
                    </div>
                    <div class="element-box centered-content" th:classappend="white-color">
                        <strong class="text">DURACIÓN DE TRATAMIENTO EN DÍAS</strong><br/>
                        <span class="text" th:text="${medication.dosage.duration}"></span><br/>
                    </div>
                    <div class="element-box centered-content" th:classappend="white-color">
                        <strong class="text">DIAGNÓSTICO</strong><br/>
                        <span class="text" th:text="${medication.healthCondition.snomed.pt}"></span><br/>
                    </div>
                    <div class="observation-box" th:classappend="${medication.prescriptionLineNumber % 2 == 0} ? lighter-pink-color : lighter-blue-color">
                        <strong class="content">OBSERVACIONES:</strong><br/>
                        <span class="text" th:text="${medication.note}"></span><br/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<footer>
    <div th:replace="fragments/digital_recipe_footer.html :: footer"></div>
</footer>
</html>