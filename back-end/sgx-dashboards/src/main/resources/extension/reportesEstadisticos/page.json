{
  "layout" : "components",
  "content" : [
    {
      "type" : "tabs",
      "args" : {
        "tabs" : [
          {
            "args" : {
              "label" : "Consultas",
              "content" : [
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {},
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasAmbulatorias",
                          "title": {
                            "text": "Evolución de consultas del año actual"
                          }
                        }
                      },
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasAmbulatoriasEspecialidadProfesional",
                          "title": {
                            "text": "Consultas por especialidad y profesional del último trimestre"
                          },
                          "showLegend" : false
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "fecha" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasPorEspecialidad",
                          "title": {
                            "text": "Consultas por especialidad"
                          },
                          "showLegend" : false
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "content" : [
                      {
                        "type" : "card",
                        "args" : {
                          "title" : {
                            "text" : "Consultas por género"
                          },
                          "mode" : "flat",
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotal",
                                "showLegend" : false,
                                "title": {
                                  "subtitle": {
                                    "text": "CONSULTAS"
                                  }
                                }
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoF",
                                "title": {
                                  "subtitle": {
                                    "text": "FEMENINO"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoM",
                                "title": {
                                  "subtitle": {
                                    "text": "MASCULINO"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoX",
                                "title": {
                                  "subtitle": {
                                    "text": "X"
                                  }
                                },
                                "showLegend" : false
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "args" : {
              "label" : "Turnos",
              "content" : [
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {},
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadTurnos",
                          "title": {
                            "text": "Evolución de turnos del año actual"
                          }
                        }
                      },
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadTurnosPorEspecialidad",
                          "title":{
                            "text":  "Turnos por especialidad del año actual"
                          },
                          "showLegend" : false
                        }
                      },
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadTurnosPorProfesional",
                          "title": {
                            "text": "Turnos por profesional del año actual"
                          },
                          "showLegend" : false
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "specialty" : {
                        "filter" : {
                          "member" : "CantidadTurnosTotal.especialidad",
                          "operator" : "equals"
                        },
                        "type" : "specialty",
                        "label" : "Especialidad"
                      },
                      "professional" : {
                        "filter" : {
                          "member" : "CantidadTurnosTotal.profesional",
                          "operator" : "equals"
                        },
                        "type" : "professional",
                        "label" : "Profesional"
                      },
                      "date" : {
                        "filter" : {
                          "member" : "CantidadTurnosTotal.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "content" : [
                      {
                        "type" : "card",
                        "args" : {
                          "title" : {
                            "text" : "Turnos por estado"
                          },
                          "mode" : "flat",
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosTotal",
                                "title": {
                                  "subtitle": {
                                    "text": "TURNOS"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosTotalAsignados",
                                "title": {
                                  "subtitle": {
                                    "text": "ASIGNADOS"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosTotalCancelados",
                                "title": {
                                  "subtitle": {
                                    "text": "CANCELADOS"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosTotalAtendidos",
                                "title": {
                                  "subtitle": {
                                    "text": "ATENDIDOS"
                                  }
                                },
                                "showLegend" : false
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosTotalAusentes",
                                "title": {
                                  "subtitle": {
                                    "text": "AUSENTES"
                                  }
                                },
                                "showLegend" : false
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    }
  ]
}