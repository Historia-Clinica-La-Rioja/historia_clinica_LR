{
  "layout" : "components",
  "content" : [
    {
      "type": "tabs",
      "args": {
        "tabs": [
          {
            "args" : {
              "label" : "Consultas",
              "content" : [
                {
                  "type": "multiselect-cubejs",
                  "args": {
                  "options": [
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "title" : {
                      "text" : "Evolución de consultas por fecha"
                    },
                    "label": "Evolución - barra",
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasAmbulatorias",
                          "chartOptions" : {
                            "responsive" : true,
                            "maintainAspectRatio" : false,
                            "scales" : {
                              "x" : {
                                "stacked" : true
                              },
                              "y" : {
                                "stacked" : true
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "title" : {
                      "text" : "Consultas por especialidad y profesional"
                    },
                    "label": "Especialidad y profesional",
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasAmbulatoriasEspecialidadProfesional",
                          "chartOptions" : {
                            "responsive" : true,
                            "maintainAspectRatio" : false,
                            "scales" : {
                              "x" : {
                                "stacked" : true
                              },
                              "y" : {
                                "stacked" : true
                              }
                            },
                            "plugins" : {
                              "legend" : {
                                "display" : false
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "title" : {
                      "text" : "Evolución de consultas por fecha"
                    },
                    "label": "Evolución - línea",
                    "filters" : {
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasAmbulatoriasFecha",
                          "chartOptions" : {
                            "responsive" : true,
                            "maintainAspectRatio" : false,
                            "elements" : {
                              "line" : {
                                "tension" : 0,
                                "fill" : true
                              }
                            },
                            "plugins" : {
                              "legend" : {
                                "display" : false
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "title" : {
                      "text" : "Consultas por especialidad"
                    },
                    "label": "Especialidad",
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasPorEspecialidad",
                          "chartOptions" : {
                            "responsive" : true,
                            "maintainAspectRatio" : false,
                            "plugins" : {
                              "legend" : {
                                "display" : true,
                                "position" : "right"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "title" : {
                      "text" : "Consultas por identidad de género"
                    },
                    "label": "Identidad de género",
                    "content" : [
                      {
                        "type" : "cubejs-chart",
                        "args" : {
                          "query" : "cantidadConsultasPorIdentidadGenero",
                          "chartOptions" : {
                            "responsive" : true,
                            "maintainAspectRatio" : false,
                            "plugins" : {
                              "legend" : {
                                "display" : true,
                                "position" : "right"
                              }
                            }
                          }
                        }
                      }
                    ]
                  }
                },
                {
                      "type" : "cubejs-dashboard",
                      "args" : {
                        "filters" : {
                          "date" : {
                            "filter" : {
                              "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                              "operator" : "inDateRange"
                            },
                            "type" : "dateRangeISO",
                            "label" : "Fecha"
                          }
                        },
                        "title" : {
                          "text" : "Consultas por sexo del DNI"
                        },
                        "label": "Sexo DNI - anillo",
                        "content" : [
                          {
                            "type" : "cubejs-chart",
                            "args" : {
                              "query" : "cantidadConsultasPorGeneroDNI",
                              "chartOptions" : {
                                "responsive" : true,
                                "maintainAspectRatio" : false,
                                "plugins" : {
                                  "legend" : {
                                    "display" : true
                                  }
                                }
                              }
                            }
                          }
                        ]
                      }
                    },
                {
                  "type" : "cubejs-dashboard",
                  "args" : {
                    "filters" : {
                      "specialty" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.especialidad",
                          "operator" : "equals"
                        },
                        "type" : "specialty",
                        "label" : "Especialidad"
                      },
                      "professional" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.profesional",
                          "operator" : "equals"
                        },
                        "type" : "professional",
                        "label" : "Profesional"
                      },
                      "date" : {
                        "filter" : {
                          "member" : "CantidadConsultasAmbulatorias.fecha_consulta",
                          "operator" : "inDateRange"
                        },
                        "type" : "dateRangeISO",
                        "label" : "Fecha"
                      }
                    },
                    "title" : {
                      "text" : "Consultas por sexo del DNI"
                    },
                    "label": "Sexo DNI - tarjetas",
                    "content" : [
                      {
                        "type" : "card",
                        "mode" : "flat",
                        "args": {
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotal",
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                },
                                "title" : {
                                  "text" : "CONSULTAS"
                                }
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoF",
                                "title" : {
                                  "text" : "FEMENINO"
                                },
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                }
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoM",
                                "title" : {
                                  "text" : "MASCULINO"
                                },
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                }
                              }
                            },
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadConsultasTotalSexoX",
                                "title" : {
                                  "text" : "X"
                                },
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                }
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
                  ]
              }
                }
              ]
            }
          },
          {
            "args" : {
              "label" : "Turnos",
              "content" : [
                {
                  "type": "multiselect-cubejs",
                  "args": {
                    "options": [
                      {
                        "type" : "cubejs-dashboard",
                        "args" : {
                          "filters" : {
                            "date" : {
                              "filter" : {
                                "member" : "CantidadTurnos.fecha_consulta",
                                "operator" : "inDateRange"
                              },
                              "type" : "dateRangeISO",
                              "label" : "Fecha"
                            }
                          },
                          "title" : {
                            "text" : "Evolución de turnos por fecha"
                          },
                          "label": "Evolución - línea",
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnos",
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "elements" : {
                                    "line" : {
                                      "fill" : false,
                                      "tension" : 0.4
                                    }
                                  }
                                }
                              }
                            }
                          ]
                        }
                      },
                      {
                        "type" : "cubejs-dashboard",
                        "args" : {
                          "filters" : {
                            "date" : {
                              "filter" : {
                                "member" : "CantidadTurnos.fecha_consulta",
                                "operator" : "inDateRange"
                              },
                              "type" : "dateRangeISO",
                              "label" : "Fecha"
                            }
                          },
                          "title" : {
                            "text" : "Turnos por especialidad"
                          },
                          "label": "Especialidad",
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosPorEspecialidad",
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                }
                              }
                            }
                          ]
                        }
                      },
                      {
                        "type" : "cubejs-dashboard",
                        "args" : {
                          "filters" : {
                            "date" : {
                              "filter" : {
                                "member" : "CantidadTurnos.fecha_consulta",
                                "operator" : "inDateRange"
                              },
                              "type" : "dateRangeISO",
                              "label" : "Fecha"
                            }
                          },
                          "title" : {
                            "text" : "Turnos por profesional"
                          },
                          "label": "Profesional",
                          "content" : [
                            {
                              "type" : "cubejs-chart",
                              "args" : {
                                "query" : "cantidadTurnosPorProfesional",
                                "chartOptions" : {
                                  "responsive" : true,
                                  "maintainAspectRatio" : false,
                                  "plugins" : {
                                    "legend" : {
                                      "display" : false
                                    }
                                  }
                                }
                              }
                            }
                          ]
                        }
                      },
                      {
                        "type" : "cubejs-dashboard",
                        "args" : {
                          "filters" : {
                            "specialty" : {
                              "filter" : {
                                "member" : "CantidadTurnosTotal.especialidad",
                                "operator" : "equals"
                              },
                              "type" : "specialty",
                              "label" : "Especialidad"
                            },
                            "professional" : {
                              "filter" : {
                                "member" : "CantidadTurnosTotal.profesional",
                                "operator" : "equals"
                              },
                              "type" : "professional",
                              "label" : "Profesional"
                            },
                            "date" : {
                              "filter" : {
                                "member" : "CantidadTurnosTotal.fecha_consulta",
                                "operator" : "inDateRange"
                              },
                              "type" : "dateRangeISO",
                              "label" : "Fecha"
                            }
                          },
                          "title" : {
                            "text" : "Turnos por estado"
                          },
                          "label": "Estado",
                          "content" : [
                            {
                              "type" : "card",
                              "args" : {
                                "mode" : "flat",
                                "content" : [
                                  {
                                    "type" : "cubejs-chart",
                                    "args" : {
                                      "query" : "cantidadTurnosTotal",
                                      "title" : {
                                        "text" : "TURNOS"
                                      },
                                      "chartOptions" : {
                                        "responsive" : true,
                                        "maintainAspectRatio" : false,
                                        "plugins" : {
                                          "legend" : {
                                            "display" : false
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "type" : "cubejs-chart",
                                    "args" : {
                                      "query" : "cantidadTurnosTotalAsignados",
                                      "title" : {
                                        "text" : "ASIGNADOS"
                                      },
                                      "chartOptions" : {
                                        "responsive" : true,
                                        "maintainAspectRatio" : false,
                                        "plugins" : {
                                          "legend" : {
                                            "display" : false
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "type" : "cubejs-chart",
                                    "args" : {
                                      "query" : "cantidadTurnosTotalCancelados",
                                      "title" : {
                                        "text" : "CANCELADOS"
                                      },
                                      "chartOptions" : {
                                        "responsive" : true,
                                        "maintainAspectRatio" : false,
                                        "plugins" : {
                                          "legend" : {
                                            "display" : false
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "type" : "cubejs-chart",
                                    "args" : {
                                      "query" : "cantidadTurnosTotalAtendidos",
                                      "title" : {
                                        "text" : "ATENDIDOS"
                                      },
                                      "chartOptions" : {
                                        "responsive" : true,
                                        "maintainAspectRatio" : false,
                                        "plugins" : {
                                          "legend" : {
                                            "display" : false
                                          }
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "type" : "cubejs-chart",
                                    "args" : {
                                      "query" : "cantidadTurnosTotalAusentes",
                                      "title" : {
                                        "text" : "AUSENTES"
                                      },
                                      "chartOptions" : {
                                        "responsive" : true,
                                        "maintainAspectRatio" : false,
                                        "plugins" : {
                                          "legend" : {
                                            "display" : false
                                          }
                                        }
                                      }
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      }
                    ]
                  }
                }
              ]
            }
          }
        ]
      }
    }
  ]
}